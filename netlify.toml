[build]
  command = "npm run build"
  publish = "dist"

# Note: trailingSlash = "never" was removed because it caused redirect loops
# with SPA routes. Trailing slash removal is handled explicitly in _redirects.

[build.environment]
  NODE_VERSION = "22"
  NPM_FLAGS = "--legacy-peer-deps"

[[plugins]]
  package = "netlify-plugin-cache"
  [plugins.inputs]
    paths = [
      "node_modules/.cache",
      ".cache",
      "public",
      "dist"
    ]