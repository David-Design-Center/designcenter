const fs=require("fs"),path=require("path"),matter=require("gray-matter"),postsDir=path.resolve(__dirname,"../src/posts"),outFile=path.resolve(__dirname,"../src/data/posts.json"),posts={};fs.readdirSync(postsDir).forEach((file=>{if(file.endsWith(".md")){const slug=path.basename(file,".md"),raw=fs.readFileSync(path.join(postsDir,file),"utf-8"),{data:data,content:content}=matter(raw);posts[slug]={data:data,content:content}}})),fs.writeFileSync(outFile,JSON.stringify(posts,null,2)),console.log("posts.json generated with",Object.keys(posts).length,"posts.");